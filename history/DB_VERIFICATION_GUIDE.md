# ğŸ“‹ ì²´í¬ë¦¬ìŠ¤íŠ¸ DB ë°˜ì˜ ìƒíƒœ í™•ì¸ ê°€ì´ë“œ

## ëª©ì 
`1_CHECKLIST.md`ì˜ í•­ëª©ë“¤ì´ ì‹¤ì œ ë°ì´í„°ë² ì´ìŠ¤ì— ë°˜ì˜ë˜ì—ˆëŠ”ì§€ í™•ì¸í•©ë‹ˆë‹¤.

---

## ì‹¤í–‰ ë°©ë²•

### 1ë‹¨ê³„: DATABASE_URL í™•ì¸

Supabase Dashboardì—ì„œ ì—°ê²° ë¬¸ìì—´ì„ ê°€ì ¸ì˜µë‹ˆë‹¤:

1. https://supabase.com/dashboard ì ‘ì†
2. í”„ë¡œì íŠ¸ ì„ íƒ
3. **Settings** â†’ **Database** í´ë¦­
4. **Connection string** ì„¹ì…˜ì—ì„œ **Pooler** ëª¨ë“œ ì„ íƒ
5. **Connection string** ë³µì‚¬ (í˜•ì‹: `postgresql://postgres.xxx:password@xxx.pooler.supabase.com:6543/postgres`)

### 2ë‹¨ê³„: ê²€ì¦ ìŠ¤í¬ë¦½íŠ¸ ì‹¤í–‰

```bash
cd c:\dev\alsign\backend
python scripts\verify_checklist_direct.py "YOUR_DATABASE_URL"
```

**ì˜ˆì‹œ:**
```bash
python scripts\verify_checklist_direct.py "postgresql://postgres.abcdefg:mypassword@aws-0-ap-northeast-2.pooler.supabase.com:6543/postgres"
```

---

## ê²€ì¦ í•­ëª©

ìŠ¤í¬ë¦½íŠ¸ëŠ” ë‹¤ìŒ í•­ëª©ë“¤ì„ í™•ì¸í•©ë‹ˆë‹¤:

### âœ… 1. í…Œì´ë¸” ì¡´ì¬ í™•ì¸
- `config_lv2_metric` í…Œì´ë¸” ì¡´ì¬ ì—¬ë¶€
- ì´ ë©”íŠ¸ë¦­ ê°œìˆ˜

### âœ… 2. I-01: consensusSignal ì„¤ì •
- `source` = 'aggregation' ì—¬ë¶€
- `expression` = NULL ì—¬ë¶€
- `aggregation_kind` = 'leadPairFromList' ì—¬ë¶€

### âœ… 3. I-05: consensus ë©”íŠ¸ë¦­
- `consensus` ë©”íŠ¸ë¦­ ì¡´ì¬ ì—¬ë¶€
- `source` = 'api_field' ì—¬ë¶€
- `api_list_id` = 'fmp-price-target' ì—¬ë¶€

### âœ… 4. qualatative-* ë„ë©”ì¸ ë©”íŠ¸ë¦­
- ëª¨ë“  qualatative ë„ë©”ì¸ ë©”íŠ¸ë¦­ ëª©ë¡

### âœ… 5. config_lv0_policy ì •ì±…
- ì •ì±… í…Œì´ë¸” ì¡´ì¬ ì—¬ë¶€
- `priceEodOHLC_dateRange` ì •ì±… ì¡´ì¬ ì—¬ë¶€ (I-10 ê´€ë ¨)

---

## ì˜ˆìƒ ê²°ê³¼

### âœ… ëª¨ë“  SQL ë³€ê²½ì‚¬í•­ì´ ì ìš©ëœ ê²½ìš°

```
================================================================================
ğŸ“Š ìš”ì•½
================================================================================
âœ… I-01: consensusSignal ì„¤ì • - SQL ë³€ê²½ ì ìš©ë¨
âœ… I-05: consensus ë©”íŠ¸ë¦­ - ì¶”ê°€ë¨

ğŸ’¡ ë‹¤ìŒ ë‹¨ê³„:
   âœ… SQL ë³€ê²½ì‚¬í•­ ëª¨ë‘ ì ìš©ë¨!
   1. Python ì½”ë“œ ë³€ê²½ì‚¬í•­ í™•ì¸ (I-03, I-07, I-08, I-09)
   2. ë¯¸ë°˜ì˜ í•­ëª© êµ¬í˜„ (I-10, I-11)
```

### ğŸ”´ SQL ë³€ê²½ì‚¬í•­ì´ ë¯¸ì ìš©ëœ ê²½ìš°

```
================================================================================
ğŸ“Š ìš”ì•½
================================================================================
ğŸ”´ I-01: consensusSignal ì„¤ì • - SQL ì‹¤í–‰ í•„ìš”
ğŸ”´ I-05: consensus ë©”íŠ¸ë¦­ - SQL ì‹¤í–‰ í•„ìš”

ğŸ’¡ ë‹¤ìŒ ë‹¨ê³„:
   1. Supabase Dashboard SQL Editor ì ‘ì†
   2. backend/scripts/apply_issue_docs_changes.sql ì‹¤í–‰
   3. ì´ ìŠ¤í¬ë¦½íŠ¸ ì¬ì‹¤í–‰í•˜ì—¬ í™•ì¸
```

---

## ë¬¸ì œ í•´ê²°

### ì˜¤ë¥˜: "DB ì—°ê²° ì‹¤íŒ¨"
- Supabase í”„ë¡œì íŠ¸ê°€ ì¼ì‹œì¤‘ì§€ ìƒíƒœì¼ ìˆ˜ ìˆìŠµë‹ˆë‹¤.
- https://supabase.com/dashboard ì—ì„œ í”„ë¡œì íŠ¸ë¥¼ ì¬ê°œí•˜ì„¸ìš”.

### ì˜¤ë¥˜: "config_lv2_metric í…Œì´ë¸” ì—†ìŒ"
- `backend/scripts/setup_supabase.sql`ì„ ë¨¼ì € ì‹¤í–‰í•´ì•¼ í•©ë‹ˆë‹¤.
- Supabase Dashboard SQL Editorì—ì„œ ì‹¤í–‰í•˜ì„¸ìš”.

### ì˜¤ë¥˜: "DB ì¸ì¦ ì‹¤íŒ¨"
- DATABASE_URLì˜ ë¹„ë°€ë²ˆí˜¸ê°€ ì˜¬ë°”ë¥¸ì§€ í™•ì¸í•˜ì„¸ìš”.
- Supabase Dashboardì—ì„œ ìƒˆë¡œìš´ ì—°ê²° ë¬¸ìì—´ì„ ë³µì‚¬í•˜ì„¸ìš”.

---

## ì²´í¬ë¦¬ìŠ¤íŠ¸ ì—…ë°ì´íŠ¸

ê²€ì¦ ê²°ê³¼ì— ë”°ë¼ `1_CHECKLIST.md`ë¥¼ ì—…ë°ì´íŠ¸í•˜ì„¸ìš”:

| ê²€ì¦ ê²°ê³¼ | ì²´í¬ë¦¬ìŠ¤íŠ¸ ìƒíƒœ |
|-----------|----------------|
| I-01 âœ… ì ìš©ë¨ | ğŸ”„ â†’ âœ… ë³€ê²½ |
| I-05 âœ… ì ìš©ë¨ | ğŸ”„ â†’ âœ… ë³€ê²½ |
| I-01 âŒ ë¯¸ì ìš© | ğŸ”„ ìœ ì§€ |
| I-05 âŒ ë¯¸ì ìš© | ğŸ”„ ìœ ì§€ |

---

*ì‘ì„±ì¼: 2025-12-24*

