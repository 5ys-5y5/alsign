======================================================== TABLE-FOCUSED UI REPRODUCTION INSTRUCTION (LLM ONLY)
[DATA→UI FIELD MAPPING (MANDATORY)]

아래 블록을 실제 데이터에 맞게 수정한 뒤 본 지침의 모든 “key/column” 참조는 이 블록을 기준으로 해석할 것
rows_path는 배열이 위치한 경로를 점 표기나 루트 키로 기술
{ "dataset": { "name": "Signals", "rows_path": "signals", // 예: "signals" | "data.items" | "list" "id_field": "id" }, "field_map": { "ticker": "ticker", "recommended_buy_date": "recommended_buy_date", "recommended_sell_date": "recommended_sell_date", "recommended_buy_price": "recommended_buy_price", "recommended_sell_price": "recommended_sell_price", "exp_price": "exp_price", "R": "R", "gap_ratio": "gap_ratio", "resolution_rate": "resolution_rate", "reliability": "reliability", "event_type": "event_type", "side": "side", "thesis": "thesis", "evaluation_method": "evaluation_method", "agent_version": "agent_version", "risks": "risks", "source": "source" }, "column_catalog": [ { "key": "ticker", "label": "종목", "width": 100, "isDefault": true }, { "key": "recommended_buy_date", "label": "매수일", "width": 110, "isDefault": true }, { "key": "recommended_buy_price", "label": "매수가", "width": 100, "isDefault": true }, { "key": "exp_price", "label": "목표가", "width": 100, "isDefault": true }, { "key": "R", "label": "R 점수", "width": 90, "isDefault": true }, { "key": "gap_ratio", "label": "괴리율", "width": 90, "isDefault": true }, { "key": "resolution_rate", "label": "해소율", "width": 90, "isDefault": true }, { "key": "reliability", "label": "신뢰도", "width": 90, "isDefault": true }, { "key": "event_type", "label": "이벤트", "width": 120, "isDefault": true }, { "key": "side", "label": "포지션", "width": 90, "isDefault": true } ], "enums": { "event_type": ["earnings","guidance","product","regulatory","investor_day","mna","pdufa","contract","product_launch","market_shift","other"], "side": ["Long","Short"] }, "formats": { "date_in": "auto", // ISO/Date.parse 가능 형식 "date_display": "M/d (E)", // 예: 12/11 (수) "currency_prefix": "₩", "percent_R_decimals": 2, "percent_other_decimals": 0 }, "persistence": { "selected_columns_key": "ui.selected_columns", "filters_key": "ui.signals_filters", "sort_key": "ui.signals_sort" } }

[GLOBAL TABLE RULES]

Signals 표는 “헤더 고정 + 본문 스크롤”을 기본으로 하며, 컬럼선택/정렬/필터 상태를 가진 구조적 UI 시스템
테이블 외곽은 카드가 아닌 “bordered table container”로 구현
가로 스크롤 허용(열이 많을 때), 세로 스크롤 시 헤더는 sticky로 고정
TABLE IDENTIFICATION
Table ID: signals-table Table Name: Daily Signals Screen ID: screen-signals-daily Primary Purpose: 데이터 조회 / 비교

TABLE BOUNDARY & PLACEMENT
Table Container Width: max 1600px (centered)
Table Container Height: 콘텐츠 적응; 세로 스크롤 사용 시 래퍼에 max-height 지정(권장 70vh)
Viewport 대비 비율: 폭 가변(<=1600px), 높이 가변
Table 상/하/좌/우 여백: 컨테이너 내부 px-4 md:px-6, py-8 md:py-12
Table 외곽 Border:
존재 여부: 있음 (컨테이너 박스)
두께: 1px
색상: var(--border)
Radius: 12px (rounded-xl)
TABLE STRUCTURE OVERVIEW
Column Count: column_catalog의 선택된 컬럼 수

Row Count (초기 로드 기준): 데이터 길이만큼

Row Height: 콘텐츠 기반, td 패딩에 의해 최소 약 40px (px-4 py-3)

Header Height: th 패딩 px-4 py-3와 동일 스케일

Footer Height (존재 시): 없음(기본)

Table Layout Type: [x] Fixed (width px 지정) [ ] Auto [ ] Mixed

Overflow Handling: [ ] 없음 [x] 수직 스크롤 (헤더 고정) [x] 수평 스크롤 (열 많을 때) [ ] 양방향 스크롤

세로 스크롤 구현 규약:

표 바깥 래퍼에 max-height + overflow-y-auto
thead에 sticky top-0 z-10 bg-[--surface] 적용(헤더 고정)
COLUMN SPECIFICATION (REPEAT PER COLUMN)
Column Index: 1 Column ID: ticker Column Label (Header Text): 종목

Column Width: [x] Fixed(px)=100
Alignment: Header Text: left / Cell Content: left
Data Type: [x] Text
Sort Capability: 가능 / 기본 정렬 방향: 없음 / 아이콘 위치: 헤더 우측 컨트롤 그룹(정렬·필터 나란히)
Filter Capability: 가능 / 필터 UI 유형: [x] Input (부분일치, 대소문자 무시)
Resizable: 불가 / 조정 방향: N/A
Column Index: 2 Column ID: recommended_buy_date Column Label: 매수일

Width: 110px / Align: left/left
Data Type: [x] Date
Sort: 가능 (날짜 비교)
Filter: 가능 / [x] Date Picker(Input type=date), 표시/검색은 yyyy-MM-dd 포함 매칭
Resizable: 불가
Column Index: 3 Column ID: recommended_buy_price Column Label: 매수가

Width: 100px / Align: left/left
Data Type: [x] Number (통화 표기)
Sort: 가능 (숫자 비교)
Filter: 가능 / [x] Input 2칸 (최소/최대) → 내부 표현 "min-max"
Resizable: 불가
Column Index: 4 Column ID: exp_price Column Label: 목표가

Width: 100px / Number, 정렬/범위 필터 동일
Column Index: 5 Column ID: R Column Label: R 점수

Width: 90px / Data Type: [x] Number(0~1 비율)
Sort: 가능 / Filter: 범위(min-max)
Column Index: 6 Column ID: gap_ratio Column Label: 괴리율

Width: 90px / Number(0~1), 정렬/범위 필터
Column Index: 7 Column ID: resolution_rate Column Label: 해소율

Width: 90px / Number(0~1), 정렬/범위 필터
Column Index: 8 Column ID: reliability Column Label: 신뢰도

Width: 90px / Number(0~1), 정렬/범위 필터
Column Index: 9 Column ID: event_type Column Label: 이벤트

Width: 120px / Data Type: [x] Status/Badge(텍스트 칩)
Sort: 가능(문자 비교) / Filter: [x] Dropdown (단일 선택, enums.event_type 사용)
Column Index: 10 Column ID: side Column Label: 포지션

Width: 90px / Data Type: [x] Status/Badge
Sort: 가능(문자 비교) / Filter: [x] Dropdown (단일 선택: Long/Short)
(옵션 컬럼: thesis/evaluation_method/agent_version/risks/source는 동일 규칙으로 추가 가능. 긴 텍스트/배열 처리 규칙은 7절 참조)

HEADER (THEAD) DETAIL
Header Background Color: var(--surface) + 시각적 반투명 레이어(bg-slate-100/80) + backdrop-blur

Header Text Style:

Font: 시스템 폰트(제품 기본), 대문자 표기
Size: text-xs
Weight: font-medium
Color: var(--text-dim)
Header Divider:

하단 라인 두께: 1px (별도 행에 h-px)
색상: #000000 (black)
Header Interaction:

Hover 상태: 정렬/필터 버튼에 hover 시 배경 var(--surface)
Active 상태: 정렬/필터 아이콘이 text-[--ink]로 강조
Sort 활성화 시 변화: 해당 컬럼의 정렬 아이콘(asc/desc) 표시
정렬/필터 컨트롤 묶음:

위치: 헤더 셀 우측
구성: 정렬 버튼(p-0.5, 아이콘 14px) + 필터 버튼(p-0.5, 아이콘 14px), gap-1
ROW (TR) SPECIFICATION
Default Row Background: #FFFFFF
Alternate Row Background (Zebra):
사용 여부: 미사용
색상: N/A
Row Divider:
두께: 1px
색상: var(--border)
Row Hover:
Background Change: var(--surface)
Cursor Change: 기본(default)
Row Active / Selected:
없음(기본) — 선택 기능 사용 시 별도 배지/체크박스 도입 필요
Checkbox / Indicator 존재 여부: 없음
(잠금 상태 사용 시 행 전체에 opacity-60 부여 — 선택적 규칙)

CELL (TD) DETAIL
Cell Padding (T/R/B/L): 12px / 16px / 12px / 16px (py-3 px-4)

Cell Content Vertical Alignment: middle

Cell Content Horizontal Alignment: left (숫자도 좌측 정렬을 유지)

Text Overflow Handling: [ ] Wrap [x] Ellipsis (특정 긴 텍스트: truncate max-w-[200px]) [ ] Clip

예외 포맷:

날짜: formats.date_display로 출력 (예: 12/11 (수))
금액/숫자: currency_prefix + toLocaleString
퍼센트:
R: ((v||0)*100).toFixed(percent_R_decimals)+'%' (굵게, text-[--ink])
gap_ratio/resolution_rate/reliability: ((v||0)*100).toFixed(percent_other_decimals)+'%'
side: 배지(px-2 py-0.5 text-xs rounded-full; Long=bg-blue-100 text-blue-700 / Short=bg-red-100 text-red-700 / 기타=bg-gray-100 text-gray-700)
event_type: 칩(text-xs px-2 py-1 rounded-full bg-[--surface] text-[--text])
배열(risks/source): “N개 …” (text-xs text-[--text-dim])
null/undefined: "-" (text-[--text-dim])
Editable Cell:

가능 여부: 기본 불가
편집 진입 방식: N/A
편집 중 UI: N/A
TABLE INTERACTIONS
Row Selection: [ ] Single [ ] Multi [ ] Checkbox 기반 [x] 없음

Column Reordering: 불가 / Drag Handle: N/A

Column Freezing (Pin): 불가 / 위치: N/A

Pagination: 없음(기본) — 데이터가 많은 경우 별도 요구 시 추가

Virtualization: 미사용 / Threshold: N/A

Column Selection(중요):

소스: column_catalog
초기값: isDefault=true 목록
UI: “컬럼 선택” 버튼(우측 상단, outline/sm), 체크박스 리스트 팝오버(많을 때 max-h-[300px] overflow-y-auto)
동작: 토글 시 selectedColumns 즉시 반영, persistence.selected_columns_key로 저장(없으면 localStorage)
Sorting(중요):

토글 순서: none → asc → desc → none
비교 규칙: date(시간값), string(localeCompare), number(산술)
null/undefined 정렬: 항상 마지막(asc 시 뒤, desc 시 앞)
Filtering(중요):

타입 매핑: getColumnType(key)
date: Input type=date, 표시/검색 yyyy-MM-dd 포함 매칭
number: “min-max” 범위(빈칸은 ±Infinity)
enum: 단일 선택 버튼 목록(enums 활용)
string: 부분일치(소문자 비교)
필터 UI: 각 헤더의 필터 버튼 → Popover(w-64, 내부 space-y-3, 상단에 라벨/초기화 버튼 h-6 px-2 text-xs)
적용: 모든 활성 필터 AND 조합
STATE & EDGE CASES
Loading State: 스켈레톤 행(예: 10줄) — 각 줄 높이 12px 박스 형태
Empty State: 기본 별도 메시지 미노출(데이터 0일 때 테이블 본문이 비어 있음) — 필요 시 “데이터 없음” 보조 문구 추가 권장
Error State: 명시적 테이블 내부 에러 UI 없음(상단 알림/로그 기반) — 제품 요구 시 Alert 삽입 권장
(Empty/Error는 제품 요건에 따라 [부록-보강] 참조)

KEYBOARD & ACCESSIBILITY
Keyboard Navigation: 표준 브라우저 포커스 이동(정렬/필터 버튼은 Tab 접근 가능)
Focus Outline: focus:ring-2 focus:ring-[--ink] (정렬/필터/버튼류)
Screen Reader: thead/th/aria-sort 적용 권장, 필터 버튼 aria-label="필터", 정렬 버튼 aria-label="정렬"
TABLE OUTPUT CONTRACT
LLM 출력 시 포함 필수:

Column 명세 목록: column_catalog 기반(key/label/width/isDefault)
Row 상태 정의: 기본/hover/잠금(옵션) 표현
Header/Cell 스타일 요약: 색·크기·패딩·sticky 동작
Interaction 가능/불가능: 컬럼선택/정렬/필터/스크롤/리오더/핀/선택/페이지네이션/가상화
추정 요소 제거: 본 지침 외 임의 가정 금지(필요 시 [부록]에 명시하고 중요도 표기)
[PROHIBITED TABLE ASSUMPTIONS]
"일반적인 데이터 테이블처럼"
"엑셀과 유사하게"
"보통의 관리 화면 테이블"
"표준 CRUD 테이블"
======================================================== END OF TABLE INSTRUCTION
[부록 — 보강/선택 항목 및 중요도] A. 스크롤 래퍼 지정 (중요도: High)

세로 스크롤 필요 시: 테이블 컨테이너 바로 바깥 div에 max-height(권장 70vh) + overflow-y-auto
헤더 sticky 충돌 방지: thead에 sticky top-0 z-10 bg-[--surface]를 반드시 함께 적용
B. 퍼시스턴스 키 (중요도: Medium)

selectedColumns: persistence.selected_columns_key (없으면 localStorage)
filters: persistence.filters_key
sort: persistence.sort_key
C. Empty/Error UX (중요도: Medium)

Empty: tbody 비었을 때 별도 한 줄로 “데이터 없음” 안내 행 추가 가능
Error: 상단 Alert(정보/경고/에러 테마)로 노출 권장
D. 확장 컬럼 가이드 (중요도: Low)

thesis/evaluation_method/agent_version: text-xs + truncate max-w-[200px]
risks/source: 배열 길이 표기 “N개 …” (text-xs text-[--text-dim])